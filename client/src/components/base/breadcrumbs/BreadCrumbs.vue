<template>
  <ol class="breadcrumbs">
    <li class="link" v-for="(item, index) in items" :key="index">
      <span class="text"> / </span>
      <router-link v-if="item.to" class="link" :to="item.to">
        <template v-if="index === 0">
          <div class="topic-avatar" v-html="svgContent"></div>
        </template>
        {{ item.text }}
      </router-link>
      <span v-else class="text">
        <template v-if="index === 0">
          <div class="topic-avatar" v-html="svgContent"></div>
        </template>
        {{ item.text }}
      </span>
    </li>
  </ol>
</template>

<script>
import Logo from '@/components/base/logo/Logo.vue'
export default {
  name: 'Breadcrumbs',
  components: {
    Logo
  },
  props: {
    items: {
      type: Array,
      required: false,
      default: () => [{ text: 'Item', to: '/' }]
    },
    color: {
      type: String,
      required: false,
      default: 'black'
    }
  },
  computed: {
    svgContent() {
      // Create a custom SVG with the proper color
      return `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 200 200" class="topic-svg">
        <g fill="${this.color}" fill-rule="nonzero">
          <path d="M135.029 39.84q-7.122-3.82-16.27.29-9.148 4.167-18.759 13.834-9.61-9.666-18.76-13.834-9.09-4.11-16.211-.29-6.89 4.226-7.874 14.24-.985 10.014 2.605 23.096-13.2 3.473-21.365 9.32-8.163 5.845-8.395 13.95.232 8.103 8.395 13.892 8.164 5.846 21.307 9.32a84 84 0 0 0-1.737 7.93q-3.821 22.806 7.064 29.463 3.126 1.794 6.948 1.794 9.61-.057 22.06-10.419a86 86 0 0 0 5.963-5.441 108 108 0 0 0 5.964 5.441q12.505 10.361 22.06 10.42 3.877 0 7.005-1.795 10.827-6.657 7.064-29.463a100 100 0 0 0-1.795-7.93q13.143-3.473 21.307-9.32 8.163-5.789 8.395-13.892-.232-8.105-8.395-13.95-8.164-5.79-21.365-9.32 3.59-13.14 2.605-23.096-.926-10.013-7.816-14.24m-7.18 6.252q1.737 0 3.127.753 5.906 3.993 3.127 21.012a86 86 0 0 1-1.68 7.525 149 149 0 0 0-16.559-2.374q-4.98-7.004-10.306-13.14 13.78-13.486 22.291-13.776m-6.195 35.715q4.343.58 8.396 1.331a145 145 0 0 1-3.069 7.93 80 80 0 0 0-2.605-4.688 178 178 0 0 0-2.722-4.573M100 65.83h.058a139 139 0 0 1 5.327 6.54 248 248 0 0 0-10.712 0 139 139 0 0 1 5.327-6.54m0 14.587q5.906 0 11.348.347a186 186 0 0 1 6.022 9.667 148 148 0 0 1 5.326 10.014 169 169 0 0 1-5.326 10.014 158 158 0 0 1-6.022 9.666q-5.558.348-11.348.348-5.848 0-11.348-.348a186 186 0 0 1-6.022-9.666 197 197 0 0 1-5.326-10.014 148 148 0 0 1 5.326-10.014 174 174 0 0 1 6.022-9.667q5.558-.347 11.348-.347m31.729 19.97a156 156 0 0 0 6.195-15.455q23.101 6.54 23.97 15.513-.463 7.119-16.617 13.197a90 90 0 0 1-7.295 2.316q-2.606-7.583-6.253-15.571M69.082 46.845q1.274-.753 3.069-.753 6.484.116 16.674 8.567a87 87 0 0 1 5.675 5.21q-5.385 6.076-10.306 13.14-8.627.751-16.56 2.373-2.953-11.23-2.605-18.755.405-7.525 4.053-9.782m.926 36.235q4.052-.752 8.396-1.331a147 147 0 0 0-2.78 4.63 183 183 0 0 0-2.605 4.69 150 150 0 0 1-3.01-7.989m-15.227 4.11a96 96 0 0 1 7.295-2.257 147 147 0 0 0 6.253 15.455q-3.706 7.93-6.253 15.513-23.101-6.483-23.97-15.455.521-7.12 16.675-13.256m20.843 27.322a111 111 0 0 0 2.78 4.573q-4.4-.579-8.396-1.332a118 118 0 0 1 3.011-7.93q1.275 2.373 2.605 4.689m-9.669 18.465a75 75 0 0 1 1.622-7.467 169 169 0 0 0 16.559 2.373q5.037 7.177 10.306 13.198a86 86 0 0 1-5.617 5.151q-13.374 10.941-19.743 7.815-5.964-3.994-3.127-21.07m66.468-7.467a88 88 0 0 1 1.68 7.467q2.778 17.076-3.127 21.07-6.427 3.126-19.801-7.815a112 112 0 0 1-5.617-5.151q5.27-6.02 10.306-13.198a169 169 0 0 0 16.56-2.373m-2.373-7.757q-4.11.81-8.454 1.39a147 147 0 0 0 2.78-4.631 183 183 0 0 0 2.605-4.689 174 174 0 0 1 3.069 7.93M94.615 128.52a253 253 0 0 0 10.77 0 190 190 0 0 1-5.385 6.599 137 137 0 0 1-5.385-6.6"></path>
          <path d="M87.732 100.423q0 4.981 3.45 8.445 3.534 3.462 8.415 3.462 4.965 0 8.415-3.462 3.534-3.463 3.534-8.445t-3.534-8.445q-3.45-3.463-8.415-3.463-4.881 0-8.415 3.463-3.45 3.462-3.45 8.445"></path>
        </g>
      </svg>`
    }
  }
}
</script>

<style lang="scss" scoped>
@import '@/utilities/css/vars/vars.scss';
.breadcrumbs {
  display: flex;
  align-items: center;
  width: 100%;
  gap: 0.5rem;
  font-size: 21px;
}
.link {
  font-family: $FONT-BOLD;
  text-decoration: none;
  white-space: nowrap;
  color: v-bind(color);
  padding: 2px;
  display: flex;
  align-items: center;
}
.text {
  font-family: $FONT-REGULAR;
  text-decoration: none;
  white-space: nowrap;
  color: v-bind(color);
  padding: 2px;

}
.topic-avatar {
  width: 20px;
  height: 20px;
  margin-right: var(--spacing-2);
  display: inline-block;
  vertical-align: middle;
  flex-shrink: 0;
  
  .topic-svg {
    width: 100%;
    height: 100%;
    display: block;
  }
}
</style>
